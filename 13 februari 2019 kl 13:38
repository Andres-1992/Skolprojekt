using System;

namespace Skolprojekt_spelregister
{
    class Program
    {
        public class Spel
        {
           public string titel;
           public string genre;
           public int betyg;
        }
        static void Main(string[] args)
        {
            Spel[] spelInfo = new Spel[0];
            while (true)
            {
                Console.WriteLine("[1] Registrera spel");
                Console.WriteLine("----------------------");
                Console.WriteLine("[2] Sök efter spel");
                Console.WriteLine("----------------------");
                Console.WriteLine("[3] Ta bort spel");
                Console.WriteLine("----------------------");
                Console.WriteLine("[4] Visa spelbibliotek");
                Console.WriteLine("----------------------");
                Console.WriteLine("[5] Avsluta");
                int menyVal = ReadInt();

                if (menyVal == 1)
                {
                   spelInfo= RegistreraSpel(spelInfo);
                }
                else if (menyVal == 2)
                {
                    SökSpel();
                }
                else if (menyVal == 3)
                {
                    TaBortSpel();
                }
                else if (menyVal == 4)
                {
                    SpelBibliotek();
                }
                else if (menyVal == 5)
                {
                    break;
                }
                else
                {
                    Console.WriteLine("Oj! här blev det lite fel, försök att ange en siffra mellan 1-5");
                }

            }
        }

        private static Spel[] RegistreraSpel (Spel[] spelInfo)
        {
            Console.WriteLine("ange titel");
            string titel = Console.ReadLine();
            Console.WriteLine("ange genre");
            string genre = Console.ReadLine();
            Console.WriteLine("ange betyg");
            int betyg = ReadInt();

            Spel game = new Spel();
            game.titel = titel;
            game.genre = genre;
            game.betyg = betyg;

            int antalElement = spelInfo.Length + 1;
            Spel[] result = new Spel[antalElement];
            for (int i =0; i<spelInfo.Length;i++)
            {
                result[i] = spelInfo[i];
            }
            result[antalElement - 1] = game;
            Console.WriteLine("igen?");
            string svar = Console.ReadLine();

            Spel game1 = new Spel();

            Spel[] result1;

            while(svar=="ja")
            {
                Console.WriteLine("ange titel");
                string titel1 = Console.ReadLine();
                Console.WriteLine("ange genre");
                string genre1 = Console.ReadLine();
                Console.WriteLine("ange betyg");
                int betyg1 = ReadInt();

                game1 = new Spel();
                game1.titel = titel;
                game1.genre = genre;
                game1.betyg = betyg;

                int antalElement1 = result.Length + 1;

                result1 = new Spel[antalElement1];
                for (int i= 0;i<result.Length;i++)
                {
                    result1[i] = result[i];
                }
                result1 [antalElement1 - 1] = game1;
                result = result1;
                Console.WriteLine("igen?");
                svar = Console.ReadLine();


            }
            return result;

        }
        public static void SökSpel()
        {
            Console.WriteLine("lägg kod för sök spel här");
            Console.ReadLine();
        }
        public static void TaBortSpel()
        {
            Console.WriteLine("lägg kod för Ta bort spel här");
            Console.ReadLine();
        }
        public static void SpelBibliotek()
        {
            Console.WriteLine("lägg kod för Visa spelbibliotek här");
            Console.ReadLine();
        }
        public static int ReadInt()
        {

            int d = 0;

            while (!int.TryParse(Console.ReadLine(), out d))
            {
                Console.Write("Måste vara ett numeriskt värde\nFörsök igen: ");

            }
            return d;
        }
    }
}
